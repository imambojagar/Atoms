<div #drawerFilter [ngClass]=" showmodal ? 'show' : ''"
  class="offcanvas offcanvas-end offcanvas-container w-50 ps-md-4 ngprime-custom" id="r-step-1" aria-modal="true"
  role="dialog">
  <div class="offcanvas-header">
    <h1 class="offcanvas-title offcanvas-heading">Search Asset</h1>
    <button type="button" class="btn-close" (click)="close_modal()"></button>
  </div>
  <div class="p-3">
    <div class="row">
      <div class="col-xxl-12 col-xl-12 col-lg-3 col-md-12 col-sm-12 col-12 p-3">
        <!--begin Search Fields -->
        <div class="mb-6 mb-xl-9">


          <div class="pt-2">

            <form [formGroup]="searchForm">
              <div class="row box-gryco py-3">
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12" *ngIf="false">
                  <div class="form-floating mb-2">
                    <p-dropdown [options]="AssetGroups" optionLabel="name" formControlName="assetGroup" [hidden]="true"
                      class="dropdown" placeholder="select"></p-dropdown>
                    <label class="form-label">Asset Group</label>
                  </div>
                </div>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">
                    <span class="p-float-label">
                      <p-autoComplete [delay]="1000" placeholder="Asset Number " formControlName="assetNo"
                        [suggestions]="Asset_SNs" field="assetNumber" (completeMethod)="selectAssetNumber($event)"
                        (onSelect)="bindAssetNumber($event)" (onClear)="AssetNumberClear()"></p-autoComplete><label
                        class="form-label">Asset Number</label>
                    </span>
                  </div>
                </div>

                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">
                    <span class="p-float-label">
                      <p-autoComplete [delay]="1000" formControlName="assetName" [suggestions]="assetsList"
                        (completeMethod)="assetNameFilter($event)" (onSelect)="bindAssetNomenclature($event)"
                        field="assetname" (onClear)="AssetNumberClear()" placeholder="Asset Name"></p-autoComplete>
                      <label class="form-label">Asset
                        Nomenclature</label></span>
                  </div>
                </div>

                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">
                    <span class="p-float-label">

                      <p-autoComplete [delay]="1000" formControlName="assetSerialNumber" [suggestions]="Asset_SNs"
                        field="assetSerialNo" (completeMethod)="selectAssetSN($event)" dataKey="id"
                        (onSelect)="bind($event )" (onClear)="AssetClear()" placeholder="S.N"></p-autoComplete> <label
                        class="form-label ">S.N</label></span>
                  </div>
                </div>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">

                    <p-dropdown [options]="Operator_Dates" optionLabel="name" formControlName="warrantyEndDateSymbol"
                      class="dropdown" placeholder="select"></p-dropdown> <label class="form-label ">Warranty Date
                      Operator</label>

                  </div>
                </div>
                <ng-container
                  *ngIf="(searchForm.get('warrantyEndDateSymbol')?.value==7)||(searchForm.get('warrantyEndDateSymbol')?.value==8) else elseTemp">
                  <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="form-floating mb-2">


                      <p-calendar [showIcon]="true" [showOnFocus]="false" placeholder="date"
                        formControlName="warrantyEndDateFrom" dateFormat="yy-mm-dd" dataType="string">
                      </p-calendar> <label class="form-label"> Warranty End Date From</label>
                    </div>
                  </div>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="form-floating mb-2">


                      <p-calendar [showIcon]="true" [showOnFocus]="false" placeholder="date"
                        formControlName="warrantyEndDateTo" dateFormat="yy-mm-dd" dataType="string">
                      </p-calendar><label class="form-label"> Warranty End Date To</label>
                    </div>
                  </div>


                </ng-container>
                <ng-template #elseTemp>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="form-floating mb-2">


                      <p-calendar [showIcon]="true" [showOnFocus]="false" placeholder="date"
                        formControlName="warrantyEndDateFrom" dateFormat="yy-mm-dd" dataType="string">
                      </p-calendar> <label class="form-label">Warranty Date </label>
                    </div>
                  </div>
                </ng-template>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">


                    <p-dropdown [options]="Operator_Dates" optionLabel="name"
                      formControlName="delieveryInspectionDateSymbol" class="dropdown"
                      placeholder="select"></p-dropdown><label class="form-label ">Delivery Inspection Date
                      Operator</label>
                  </div>
                </div>
                <ng-container
                  *ngIf="(searchForm.get('delieveryInspectionDateSymbol')?.value==7)||(searchForm.get('delieveryInspectionDateSymbol')?.value==8) else elseTemp1">
                  <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="form-floating mb-2">

                      <p-calendar [showIcon]="true" [showOnFocus]="false" placeholder="date"
                        formControlName="deliveryInspectionDateFrom" dateFormat="yy-mm-dd" dataType="string"> <label
                          class="form-label"> Delivery Inspection Date From</label>

                      </p-calendar>
                    </div>
                  </div>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="form-floating mb-2">


                      <p-calendar [showIcon]="true" [showOnFocus]="false" placeholder="date"
                        formControlName="deliveryInspectionDateTo" dateFormat="yy-mm-dd" dataType="string">
                      </p-calendar> <label class="form-label"> Delivery Inspection Date To</label>
                    </div>
                  </div>
                </ng-container>
                <ng-template #elseTemp1>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="form-floating mb-2">


                      <p-calendar [showIcon]="true" [showOnFocus]="false" placeholder="date"
                        formControlName="deliveryInspectionDateFrom" dateFormat="yy-mm-dd" dataType="string">
                      </p-calendar> <label class="form-label">Delivery Inspection Date </label>
                    </div>
                  </div>
                </ng-template>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">

                    <!-- <p-autoComplete [delay]="1000" placeholder=". . . "   formControlName="modelDefinition" dataKey="modelName"
              (onSelect)="bindModel($event)" [suggestions]="ModelDefinitions" (completeMethod)="selectModels($event)"
              field="modelDefCode" (onClear)="clearModel()">
            </p-autoComplete> -->
                    <span class="p-float-label">

                      <p-autoComplete [delay]="1000" formControlName="modelName" [suggestions]="modelsList"
                        (onSelect)="bindModel($event)" (completeMethod)="modelNameFilter($event)" field="name"
                        placeholder="Model Name" (onClear)="clearModel()">
                      </p-autoComplete> <label class="form-label">
                        Model Name
                      </label>
                    </span>
                  </div>

                </div>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">
                    <span class="p-float-label">

                      <p-autoComplete [delay]="1000" placeholder=" Site " formControlName="site" [suggestions]="Sites"
                        field="custName" dataKey="id" (completeMethod)="onSelectContractor($event)"
                        (onSelect)="bindContractor($event)" (onClear)="clearContractor()"></p-autoComplete> <label
                        class="form-label">
                        Site
                      </label>
                    </span>
                  </div>
                </div>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">
                    <span class="p-float-label">

                      <p-autoComplete [delay]="1000" placeholder="Manufacturer" formControlName="manufacturer"
                        [suggestions]="manufacturers" field="name" dataKey="id"
                        (completeMethod)="selectManufacturer($event)" (onSelect)="bindManufacturer($event)">
                      </p-autoComplete> <label class="form-label">
                        Manufacturer</label>
                    </span>
                  </div>
                </div>
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                  <div class="form-floating mb-2">

                    <p-dropdown [options]="assetCodesList" optionLabel="name" optionValue="id" class="dropdown"
                      (onChange)="selectassetOracleCode($event); " placeholder="Asset Code Type"
                      formControlName="codeType"></p-dropdown> <label class="form-label">Asset Code Type</label>
                  </div>
                </div>

                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"
                  *ngIf="searchFilter.assetOracleCodeTypeId">
                  <div class="form-floating mb-2">

                    <input type="text" placeholder="Choose Code Type to enter Code Value" formControlName="codeValue"
                      (keyup)="onCodeInput($event)" pInputText id="cValue"> <label class="form-label">Asset Code
                      Value</label>

                  </div>
                </div>
              </div>
            </form>
          </div>
          <!-- <div class="card-footer d-flex justify-content-end border-top py-6">
     <button type="button" class="btn btn-primary" (click)="searchAsset()">Search</button>
    <button type="submit" class="btn btn-light btn-active-light-primary me-2" (click)="reset()" [disabled]="">Reset</button>
  </div> -->
        </div>
        <!--end Search Fields-->
      </div>
    </div>

    <div class="fixed-bottom">
      <div class="row">
        <div class="col-12">
          <button class="btn btn-blue text-white form-button border-r10 float-end mr-4" type="button"
            (click)="search()">Apply Filter</button>
        </div>
      </div>
    </div>
  </div>
</div>